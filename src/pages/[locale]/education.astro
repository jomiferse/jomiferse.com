---
import BaseLayout from "@/layouts/BaseLayout.astro";
import CertificationCard from "@/components/cards/CertificationCard.astro";
import EducationCard from "@/components/cards/EducationCard.astro";
import { getLocaleStaticPaths, t } from "@/i18n";
import { getCv } from "@cv";

export function getStaticPaths() {
	return getLocaleStaticPaths();
}

const { locale } = Astro.params;
const cv = getCv(locale);

const certifications = cv.certifications ?? [];
const education = cv.education ?? [];

const pageTitle = `${t(locale, "education.meta.title")} â€“ ${cv.name}`;
const pageDescription = t(locale, "education.meta.description").replace(
	"{name}",
	cv.name,
);
---

<BaseLayout title={pageTitle} description={pageDescription}>
	<header class="mb-6 space-y-3">
		<h1 class="text-3xl font-bold md:text-4xl">
			{t(locale, "education.hero.titlePrefix")}{" "}
			<span class="text-purple-600 dark:text-purple-300">
				{t(locale, "education.hero.titleHighlight")}
			</span>
		</h1>

		<p
			class="max-w-2xl text-sm text-slate-600 md:text-base dark:text-slate-300"
		>
			{t(locale, "education.hero.subtitle")}
		</p>
	</header>

	<section class="mt-2">
		<div class="mb-4 flex items-center gap-4">
			<h2 class="text-lg font-semibold text-slate-900 dark:text-zinc-50">
				{t(locale, "education.sections.certifications")}
			</h2>
			<div class="h-px flex-1 bg-slate-200 dark:bg-zinc-800/70"></div>
		</div>

		<div class="grid gap-5 md:grid-cols-1">
			{
				certifications.map((certification) => (
					<CertificationCard certification={certification} locale={locale} />
				))
			}
		</div>
	</section>

	<section class="mt-10">
		<div class="mb-4 flex items-center gap-4">
			<h2 class="text-lg font-semibold text-slate-900 dark:text-zinc-50">
				{t(locale, "education.sections.education")}
			</h2>
			<div class="h-px flex-1 bg-slate-200 dark:bg-zinc-800/70"></div>
		</div>

		<div class="grid gap-5">
			{
				education.map((item) => (
					<EducationCard education={item} locale={locale} />
				))
			}
		</div>
	</section>
</BaseLayout>
