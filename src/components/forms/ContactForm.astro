---
import { Icon } from "astro-icon/components";
import { t, type Locale } from "@/i18n";

const { locale } = Astro.props as { locale: Locale };
---

<form
	action="/api/contact"
	method="post"
	enctype="multipart/form-data"
	class="rounded-3xl border border-slate-200 bg-white p-5 shadow-sm backdrop-blur transition-all duration-300 hover:border-purple-400/60 hover:shadow-md dark:border-zinc-800 dark:bg-zinc-900/40 dark:hover:border-purple-500/50"
>
	<input type="hidden" name="locale" value={locale} />

	<div class="space-y-3">
		<label for="contact-name" class="sr-only">
			{t(locale, "contactForm.nameLabel")}
		</label>
		<div
			class="flex items-center gap-3 rounded-2xl border border-slate-200/70 bg-white/60 px-4 py-3 text-slate-700 shadow-sm transition focus-within:border-purple-500/40 dark:border-zinc-800/70 dark:bg-zinc-950/30 dark:text-zinc-200"
		>
			<Icon name="user" class="h-5 w-5 text-slate-400 dark:text-zinc-500" />
			<input
				id="contact-name"
				name="name"
				autocomplete="name"
				required
				placeholder={t(locale, "contactForm.namePlaceholder")}
				class="w-full bg-transparent text-sm outline-none placeholder:text-slate-400 dark:placeholder:text-zinc-500"
			/>
		</div>

		<label for="contact-email" class="sr-only">
			{t(locale, "contactForm.emailLabel")}
		</label>
		<div
			class="flex items-center gap-3 rounded-2xl border border-slate-200/70 bg-white/60 px-4 py-3 text-slate-700 shadow-sm transition focus-within:border-purple-500/40 dark:border-zinc-800/70 dark:bg-zinc-950/30 dark:text-zinc-200"
		>
			<Icon name="mail" class="h-5 w-5 text-slate-400 dark:text-zinc-500" />
			<input
				id="contact-email"
				type="email"
				name="email"
				autocomplete="email"
				required
				placeholder={t(locale, "contactForm.emailPlaceholder")}
				class="w-full bg-transparent text-sm outline-none placeholder:text-slate-400 dark:placeholder:text-zinc-500"
			/>
		</div>

		<label for="contact-message" class="sr-only">
			{t(locale, "contactForm.messageLabel")}
		</label>
		<div
			class="flex items-start gap-3 rounded-2xl border border-slate-200/70 bg-white/60 px-4 py-3 text-slate-700 shadow-sm transition focus-within:border-purple-500/40 dark:border-zinc-800/70 dark:bg-zinc-950/30 dark:text-zinc-200"
		>
			<Icon
				name="pencil"
				class="mt-0.5 h-5 w-5 text-slate-400 dark:text-zinc-500"
			/>
			<textarea
				id="contact-message"
				name="message"
				required
				rows="5"
				placeholder={t(locale, "contactForm.messagePlaceholder")}
				class="w-full resize-none bg-transparent text-sm outline-none placeholder:text-slate-400 dark:placeholder:text-zinc-500"
			></textarea>
		</div>

		<label for="contact-attachment" class="sr-only">
			{t(locale, "contactForm.attachmentLabel")}
		</label>
		<div
			class="flex items-center gap-3 rounded-2xl border border-slate-200/70 bg-white/60 px-4 py-3 text-slate-700 shadow-sm transition focus-within:border-purple-500/40 dark:border-zinc-800/70 dark:bg-zinc-950/30 dark:text-zinc-200"
		>
			<Icon
				name="paperclip"
				class="h-5 w-5 text-slate-400 dark:text-zinc-500"
			/>
			<input
				id="contact-attachment"
				type="file"
				name="attachment"
				accept="application/pdf,.pdf"
				class="w-full cursor-pointer text-sm file:mr-4 file:cursor-pointer file:rounded-xl file:border file:border-slate-200 file:bg-white file:px-4 file:py-2 file:text-sm file:font-semibold file:text-slate-700 hover:file:border-purple-400/60 dark:file:border-zinc-800/70 dark:file:bg-zinc-900/40 dark:file:text-zinc-200 dark:hover:file:border-purple-500/50"
			/>
		</div>
		<p class="mt-1 text-[12px] text-slate-500 dark:text-zinc-500">
			{t(locale, "contactForm.attachmentHint")}
		</p>

		<button
			type="submit"
			class="group inline-flex w-full cursor-pointer items-center justify-center gap-2 rounded-2xl bg-linear-to-r from-purple-600 to-violet-500 px-6 py-3 text-sm font-semibold text-white shadow-sm transition hover:brightness-110 focus-visible:ring-2 focus-visible:ring-purple-400/60 focus-visible:outline-none"
		>
			{t(locale, "contactForm.submit")}
			<Icon
				name="arrow-right"
				class="h-5 w-5 transition group-hover:translate-x-0.5"
			/>
		</button>
	</div>
</form>
